"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[161],{3999:(e,t,o)=>{o.d(t,{cn:()=>r});var s=o(2596),a=o(9688);function r(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return(0,a.QP)((0,s.$)(t))}},4161:(e,t,o)=>{o.d(t,{A:()=>I});var s=o(5155),a=o(2115),r=o(5695),n=o(9304),l=o(7168),c=o(7971),i=o(6422),d=o(4020),m=o(4835),u=o(9074),f=o(1007),g=o(1497);function h(e){let{activePage:t,collapsed:o,onToggleCollapse:a}=e,n=(0,r.useRouter)(),c=[{icon:(0,s.jsx)(u.A,{className:"h-5 w-5"}),label:"Calendar",path:"/doctor-dashboard/scheduling",key:"calendar"},{icon:(0,s.jsx)(f.A,{className:"h-5 w-5"}),label:"Patients",path:"/doctor-dashboard/patients",key:"patients"},{icon:(0,s.jsx)(g.A,{className:"h-5 w-5"}),label:"Messages",path:"/doctor-dashboard/messages",key:"messages"}];return(0,s.jsx)("div",{className:"flex flex-col ".concat(o?"w-20":"w-64"," min-h-screen bg-white dark:bg-[#2c2c2e] border-r border-[#e5e5ea] dark:border-[#3a3a3c] transition-all duration-300"),children:(0,s.jsx)("div",{className:"flex flex-col gap-4 items-center mt-6 px-2",children:c.map(e=>{let{icon:a,label:r,path:c,key:i}=e;return(0,s.jsxs)(l.$,{variant:"ghost",size:o?"icon":"default",className:"w-full justify-".concat(o?"center":"start"," px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 ").concat(t===i?"bg-[#73a9e9]/10 dark:bg-[#73a9e9]/5 text-[#73a9e9]":"text-[#1d1d1f] dark:text-white hover:bg-[#f5f5f7] dark:hover:bg-[#3a3a3c]"),onClick:()=>n.push(c),children:[a,!o&&(0,s.jsx)("span",{className:"ml-3",children:r})]},i)})})})}var x=o(7741),p=o(3052),k=o(2355),v=o(3405),b=o(5196),N=o(9428),j=o(3999);let T=v.bL,w=v.l9;v.YJ,v.ZL,v.Pb,v.z6,a.forwardRef((e,t)=>{let{className:o,inset:a,children:r,...n}=e;return(0,s.jsxs)(v.ZP,{ref:t,className:(0,j.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",o),...n,children:[r,(0,s.jsx)(p.A,{className:"ml-auto"})]})}).displayName=v.ZP.displayName,a.forwardRef((e,t)=>{let{className:o,...a}=e;return(0,s.jsx)(v.G5,{ref:t,className:(0,j.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o),...a})}).displayName=v.G5.displayName;let y=a.forwardRef((e,t)=>{let{className:o,sideOffset:a=4,...r}=e;return(0,s.jsx)(v.ZL,{children:(0,s.jsx)(v.UC,{ref:t,sideOffset:a,className:(0,j.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o),...r})})});y.displayName=v.UC.displayName;let S=a.forwardRef((e,t)=>{let{className:o,inset:a,...r}=e;return(0,s.jsx)(v.q7,{ref:t,className:(0,j.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",o),...r})});function I(e){let{children:t,activePage:o}=e,[u,f]=(0,a.useState)(()=>"true"===localStorage.getItem("sidebarCollapsed"));(0,a.useEffect)(()=>{localStorage.setItem("sidebarCollapsed",u.toString())},[u]);let g=(0,r.useRouter)(),v=e=>g.push(e);return(0,s.jsx)(n.ThemeProvider,{children:(0,s.jsx)("main",{className:"min-h-screen bg-[#f5f5f7] dark:bg-[#1d1d1f] text-[#1d1d1f] dark:text-white",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("header",{className:"h-14 flex items-center justify-between px-6 border-b border-[#e5e5ea] dark:border-[#3a3a3c] bg-white dark:bg-[#2c2c2e]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(l.$,{variant:"ghost",size:"icon",className:"hover:bg-[#f2f2f2] rounded-full transition-colors",onClick:()=>f(e=>!e),children:u?(0,s.jsx)(p.A,{className:"text-[#3b82f6]"}):(0,s.jsx)(k.A,{className:"text-[#3b82f6]"})}),(0,s.jsx)("button",{onClick:()=>v("/doctor-dashboard"),className:"bg-transparent rounded px-2 py-1",children:(0,s.jsx)("img",{src:"/logo-atlasai.png",alt:"Atlas AI Logo",className:"h-6"})})]}),(0,s.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,s.jsx)(l.$,{variant:"ghost",size:"icon",className:"bg-[#73a9e9] hover:bg-[#5a9ae6] text-white rounded-full h-10 w-10",onClick:()=>v("/doctor-dashboard/profile"),children:(0,s.jsx)(i.A,{className:"h-4 w-4"})}),(0,s.jsx)("div",{className:"rounded-full h-10 w-10 flex items-center justify-center",children:(0,s.jsx)(c.U,{})}),(0,s.jsxs)(T,{children:[(0,s.jsx)(w,{asChild:!0,children:(0,s.jsx)(l.$,{variant:"ghost",size:"icon",className:"bg-[#73a9e9] hover:bg-[#5a9ae6] text-white rounded-full h-10 w-10",children:(0,s.jsx)(d.A,{className:"h-4 w-4"})})}),(0,s.jsx)(y,{align:"end",children:(0,s.jsxs)(S,{onClick:()=>{(0,x.gf)();let e=e=>{document.cookie="".concat(e,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;")};e("accessToken"),e("refreshToken"),e("idToken"),e("userRole"),window.location.href="/"},children:[(0,s.jsx)(m.A,{className:"h-4 w-4 mr-2"})," Sign out"]})})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-1",children:[(0,s.jsx)(h,{collapsed:u,onToggleCollapse:()=>f(e=>!e),activePage:o}),(0,s.jsx)("div",{className:"flex-1",children:t})]})]})})})}S.displayName=v.q7.displayName,a.forwardRef((e,t)=>{let{className:o,children:a,checked:r,...n}=e;return(0,s.jsxs)(v.H_,{ref:t,className:(0,j.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),checked:r,...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(v.VF,{children:(0,s.jsx)(b.A,{className:"h-4 w-4"})})}),a]})}).displayName=v.H_.displayName,a.forwardRef((e,t)=>{let{className:o,children:a,...r}=e;return(0,s.jsxs)(v.hN,{ref:t,className:(0,j.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",o),...r,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(v.VF,{children:(0,s.jsx)(N.A,{className:"h-2 w-2 fill-current"})})}),a]})}).displayName=v.hN.displayName,a.forwardRef((e,t)=>{let{className:o,inset:a,...r}=e;return(0,s.jsx)(v.JU,{ref:t,className:(0,j.cn)("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",o),...r})}).displayName=v.JU.displayName,a.forwardRef((e,t)=>{let{className:o,...a}=e;return(0,s.jsx)(v.wv,{ref:t,className:(0,j.cn)("-mx-1 my-1 h-px bg-muted",o),...a})}).displayName=v.wv.displayName},7168:(e,t,o)=>{o.d(t,{$:()=>i});var s=o(5155),a=o(2115),r=o(6634),n=o(2085),l=o(3999);let c=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=a.forwardRef((e,t)=>{let{className:o,variant:a,size:n,asChild:i=!1,...d}=e,m=i?r.DX:"button";return(0,s.jsx)(m,{className:(0,l.cn)(c({variant:a,size:n,className:o})),ref:t,...d})});i.displayName="Button"},7741:(e,t,o)=>{o.d(t,{Ex:()=>n,O3:()=>f,RQ:()=>l,gf:()=>c,so:()=>u,wR:()=>i});let s=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7;try{let s=new Date;s.setTime(s.getTime()+864e5*o);let a="; expires="+s.toUTCString();document.cookie=e+"="+(t||"")+a+"; path=/; SameSite=Lax",console.log("[TokenService] Cookie '".concat(e,"' set successfully"))}catch(t){console.error("[TokenService] Error setting cookie '".concat(e,"':"),t)}},a=e=>{try{let t=e+"=",o=document.cookie.split(";");for(let e=0;e<o.length;e++){let s=o[e];for(;" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(t))return s.substring(t.length,s.length)}return null}catch(t){return console.error("[TokenService] Error getting cookie '".concat(e,"':"),t),null}},r=e=>{let t=localStorage.getItem("accessToken"),o=localStorage.getItem("refreshToken"),s=localStorage.getItem("idToken"),r=a("accessToken");return console.log("[TokenService:".concat(e,"] accessToken exists in localStorage: ").concat(!!t)),console.log("[TokenService:".concat(e,"] refreshToken exists: ").concat(!!o)),console.log("[TokenService:".concat(e,"] idToken exists: ").concat(!!s)),console.log("[TokenService:".concat(e,"] accessToken exists in cookie: ").concat(!!r)),{accessToken:t,refreshToken:o,idToken:s,cookieToken:r}},n=(e,t,o,a)=>{console.log("[TokenService] Storing tokens..."),console.log("[TokenService] Tokens received for storage:",{access_token_exists:!!e,refresh_token_exists:!!t,id_token_exists:!!o,email:a||"not provided"});try{return localStorage.setItem("accessToken",e),localStorage.setItem("refreshToken",t),localStorage.setItem("idToken",o),a&&(localStorage.setItem("userEmail",a),console.log("[TokenService] Storing email: ".concat(a))),s("accessToken",e,1),r("store"),!0}catch(e){return console.error("[TokenService] Error storing tokens:",e),!1}},l=()=>{let e={accessToken:localStorage.getItem("accessToken")||a("accessToken")||null,refreshToken:localStorage.getItem("refreshToken")||null,idToken:localStorage.getItem("idToken")||null};return console.log("[TokenService] Getting tokens:",{accessExists:!!e.accessToken,refreshExists:!!e.refreshToken,idExists:!!e.idToken}),e},c=()=>{console.log("[TokenService] Clearing tokens"),localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("idToken"),localStorage.removeItem("userEmail"),localStorage.removeItem("userRole"),s("accessToken","",-1),s("userRole","",-1),r("clear")},i=()=>{let e=localStorage.getItem("accessToken"),t=a("accessToken");return console.log("[TokenService] isAuthenticated check:",{localStorage:!!e,cookie:!!t}),!!e&&"undefined"!==e&&"null"!==e||!!t&&"undefined"!==t&&"null"!==t||(console.log("[TokenService] Invalid or missing access token in both localStorage and cookie"),!1)},d=()=>localStorage.getItem("userRole")||"provider",m=e=>{localStorage.setItem("userRole",e),s("userRole",e,7)},u=()=>{let e="provider"===d()?"patient":"provider";return m(e),e},f=async()=>(console.log("[TokenService] Token refresh requested but disabled"),null)},7971:(e,t,o)=>{o.d(t,{U:()=>c});var s=o(5155),a=o(2098),r=o(3509),n=o(9304),l=o(7168);function c(){let{theme:e,setTheme:t}=(0,n.D)();return(0,s.jsxs)(l.$,{variant:"ghost",size:"icon",onClick:()=>t("light"===e?"dark":"light"),className:"\n        h-10 w-10 rounded-full \n        flex items-center justify-center \n        bg-[#e6f0ff] text-black \n        dark:bg-[#73a9e9] dark:text-white \n        transition-colors\n      ",children:[(0,s.jsx)(a.A,{className:"h-[18px] w-[18px] dark:hidden"}),(0,s.jsx)(r.A,{className:"h-[18px] w-[18px] hidden dark:block"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}},9304:(e,t,o)=>{o.d(t,{D:()=>l,ThemeProvider:()=>n});var s=o(5155),a=o(2115);let r=(0,a.createContext)(void 0);function n(e){let{children:t}=e,[o,n]=(0,a.useState)("light"),[l,c]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{let e=localStorage.getItem("theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;n(e||(t?"dark":"light")),c(!0)},[]),(0,a.useEffect)(()=>{l&&(document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(o),localStorage.setItem("theme",o))},[o,l]),l)?(0,s.jsx)(r.Provider,{value:{theme:o,setTheme:e=>{n(e)}},children:t}):null}let l=()=>{let e=(0,a.useContext)(r);if(!e)throw Error("useTheme must be used within a ThemeProvider");return e}}}]);